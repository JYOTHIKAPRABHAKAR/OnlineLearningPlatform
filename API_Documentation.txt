# ONLINE LEARNING PLATFORM - API DOCUMENTATION

---

## AUTHENTICATION ENDPOINTS

### POST /api/auth/register
- **Registers a new learner.**
- Request: email, password, firstName, lastName, targetExam, preferredLanguage, phone
- Public

### POST /api/auth/educator/register
- **Registers a new educator.**
- Request: email, password, firstName, lastName, bio, subjects, experience, qualification
- Public

### POST /api/auth/login
- **Login for both learners and educators.**
- Request: email, password
- Public

### GET /api/auth/profile
- **Get current user profile.**
- Requires authentication (Bearer token)

### PUT /api/auth/profile
- **Update user profile.**
- Requires authentication (Bearer token)

### PUT /api/auth/change-password
- **Change user password.**
- Requires authentication (Bearer token)

---

## COURSE ENDPOINTS

### GET /api/courses
- **Browse courses with optional filters (exam, subject, type, price, etc).**
- Public

### GET /api/courses/:id
- **Get details of a specific course.**
- Public

### GET /api/courses/:id/reviews
- **Get reviews for a specific course.**
- Public

### POST /api/courses/:id/enroll
- **Enroll the authenticated learner in a course.**
- Requires authentication (Bearer token)

### GET /api/courses/:id/progress
- **Get the learner's progress in a course.**
- Requires authentication and enrollment

### GET /api/courses/:id/lessons
- **Get all lessons for a course (requires enrollment).**
- Requires authentication and enrollment

### GET /api/courses/:id/tests
- **Get all tests for a course (requires enrollment).**
- Requires authentication and enrollment

### GET /api/materials/course/:id
- **Get study materials for a course (requires enrollment).**
- Requires authentication and enrollment

---

## LESSON ENDPOINTS

### GET /api/lessons/:id
- **Get details of a lesson (requires enrollment).**
- Requires authentication and enrollment

### POST /api/lessons/:id/progress
- **Update lesson progress (watched duration, completion status).**
- Requires authentication and enrollment

### POST /api/lessons/:id/notes
- **Save a note for a lesson at a specific timestamp.**
- Requires authentication and enrollment

### GET /api/lessons/:id/notes
- **Get all notes for a lesson by the user.**
- Requires authentication and enrollment

### GET /api/lessons/course/:id/free
- **Get all free lessons for a course.**
- Public

---

## TEST ENDPOINTS

### GET /api/tests?courseId=...&type=...
- **Get tests for a course, with optional filters.**
- Requires authentication and enrollment

### POST /api/tests/:id/start
- **Start a test session for a course.**
- Requires authentication and enrollment

### POST /api/tests/:sessionId/submit
- **Submit answers for a test session.**
- Requires authentication and enrollment

### GET /api/tests/:sessionId/results
- **Get results for a test session.**
- Requires authentication and enrollment

### GET /api/tests/history?limit=...
- **Get the user's test history.**
- Requires authentication

---

## MATERIAL ENDPOINTS

### POST /api/materials/:id/download
- **Track/download a study material (requires enrollment).**
- Requires authentication and enrollment

---

## LIVE CLASS ENDPOINTS

### GET /api/live-classes/schedule?courseId=...
- **Get live class schedule for a course.**
- Requires authentication and enrollment

---

## EDUCATOR ENDPOINTS

### GET /api/educators?subject=...&rating=...
- **Browse educators with optional filters.**
- Requires educator authentication

### GET /api/educators/:id
- **Get educator profile.**
- Requires educator authentication

---

## SUBSCRIPTION ENDPOINTS

### POST /api/subscriptions/purchase
- **Purchase a subscription plan.**
- Requires authentication

---

## DOUBT ENDPOINTS

### POST /api/doubts
- **Post a doubt/question for a course/lesson.**
- Requires authentication and enrollment

### GET /api/doubts/my
- **Get all doubts posted by the authenticated user.**
- Requires authentication

### POST /api/doubts/:id/answer
- **Educator answers a doubt.**
- Requires educator authentication

---

## SEARCH ENDPOINTS

### GET /api/search?q=...
- **Global search for courses, educators, and lessons.**
- Requires authentication

---

## REVIEW ENDPOINTS

### POST /api/reviews/courses/:id/review
- **Post a review for a course (requires enrollment).**
- Request: rating, title, comment
- Requires authentication and enrollment

---

## ERROR TESTING ENDPOINTS

### Various endpoints for testing error responses (400, 401, 404, 422, etc.)
- Used for API testing and validation.

---

**Note:** Most endpoints that require authentication expect a Bearer token in the `Authorization` header. Some endpoints require the user to be enrolled in a course or to have educator privileges. 